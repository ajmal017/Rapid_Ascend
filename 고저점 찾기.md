## Tune Results.

| Model No.    | Description                                                  |                                                              |
| ------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 54_0         | y data 전전 데이터                                           |                                                              |
| 54_1         | y data 전 데이터                                             |                                                              |
| 54_2         | 54_1 버전 60만개 데이터                                      |                                                              |
| 54_3         | 54_1 버전 고저점을 뒷 데이터만으로 만든 경우 / check_span=60 |                                                              |
| ~~54_4~~     | 54_3 버전 개선 / + CMO                                       | 모든 y 값이 동일하게 나온다 : 폭망                           |
| 54_5         | 54_3 버전 check_span=40                                      |                                                              |
| 54_6         | 54_3 버전 check_span=30                                      |                                                              |
| 54_7         | 54_6 버전 / + MA15                                           |                                                              |
| 54_8         | 54_3 버전 check_span=20                                      |                                                              |
| 54_9         | 54_6 버전 / + OBV                                            |                                                              |
| 54_10        | 54_6 버전 / - MA60 / + OBV                                   |                                                              |
| 54_11        | 54_6 버전 / - MA60 / + CMO                                   | CMO 데이터는 예측에 안맞는다..                               |
| 54_12        | 54_10 버전 / - CNN / + GAN                                   | 보류 : GAN 을 사용하는 게 효율적인지에 대해 고민해보아야한다. |
| 96_0         | 54_10 버전 / - 54 / + 96                                     |                                                              |
| 54_10_copied | LIMIT_LINE 을 낮춰보기 / 저점은 높게 고점은 낮게 / 저점 : 0.9 고점 : 0.8 |                                                              |
| 54_13        | 54_10 버전 / 54 개의 데이터를 자른 후 scaling 하기 (price & volume) |                                                              |
| 54_14        | 54_10 버전 / crop_size >> (all)                              |                                                              |
| 54_15        | 54_10 ver. / - Volume                                        |                                                              |
| 54_16        | 54_10 ver. / 1월 이후의 데이터로 Made_X                      |                                                              |
| 54_17        | 54_16 ver. / - Volume                                        |                                                              |
| 54_18        | 54_10 ver. 진입을 위한 급상승 트래픽 잡기                    |                                                              |
| 54_19        | 54_16 ver / 진입 예측                                        | 예측이 안됌..                                                |
| **54_20**    | y_value 가 4개 (진입, 저점, 고점, 거래 안함)                 |                                                              |
| 54_16_copied | 54_16 ver. / np.argmax 수정                                  | 수익률 낮아짐                                                |
| **54_21**    | y_value 가 3개 (저점, 고점, 거래 안함) / max_value * limit_line 으로 | **Best Profit.**                                             |
| 54_22        | 54_21 - OBV + CMO                                            |                                                              |
| 54_23        | only ohlc                                                    |                                                              |
| 54_24        | 54_21 - OBV + RSI                                            |                                                              |
| 54_25        | 54_21 - OBV + MACD                                           |                                                              |
| 54_26        | ohlcv                                                        |                                                              |
| 54_21_copy   | 54_21 * 0.7                                                  |                                                              |
| 54_27        | model_ensemble                                               |                                                              |
| 54_21_copy2  | 54_21 + 1.0                                                  |                                                              |
| 54_28        | 54_23 input_data_length = 30 ver.                            |                                                              |
| 54_23        | 정확도 상승 / kfold                                          |                                                              |
| 54_29 & 30   | 54_23 MADE_X WITH CROP_SIZE 500 & 100                        | Model 만든게 부끄럽다..                                      |
| 54_31        | 코인별 모델                                                  | 데이터의 양이 부족해 정확도는 높게 나오지만 실 예측이 떨어진다. |
| 54_32        | 저점 / 고점 모델만                                           | 정확도 떨어진다.                                             |
| 54_33        | OHLC + MA60                                                  | 완전 예측을 못하네..                                         |
| 54_34        | 54_21 ver. 2월 데이터 추가                                   | ACC 는 상승했지만 오히려 수익률이 떨어짐                     |
| 54_35        | 고점과 저점의 폭이 큰 이미지만 사용                          | 별로 않조음..ㅜ                                              |
| 54_36        | 데이터의 양을 줄여본다. 어떤 걸 제외시킬까                   |                                                              |
| 54_37        | CROP_SIZE 제거하고 OHLC 로 거래 진행 기존에 OBV 가 문제가 되었지만 OBV 제거 했으니 무관하다. |                                                              |

>  #### Made_X (GPU) >> Make_model (GPU) >> Make_pred (GPU) >> BVC_CNN2



### Increase Profit

> #### 최저점 찾기 + 익절 / 손절 모드
>
> # WORKOUT
>
> #### CROP_SIZE 와 LIMIT_LINE 의 조합이 중요하다. (INDIVIDUAL << COMBINATION)
>
> 1. MODEL_ACC
> 2. CROP_SIZE (부분 확대하는 느낌)
> 3. LIMIT_LINE
> 4. ~~SUDDEN_DEATH~~
>    * ~~찾아야 되는 패턴 : 저점이 갱신되었을때 고점의 반응~~
>
> ---
>
> #### 일정 틱 이후(CHECK_SPAN) 저점이 갱신되면 손절모드로 전환
>
> #### 익절모드 : 최대 고점을 노린다.
>
> > crop_size_high=300
> >
> > limit_line_high=0.65
> >
> 
>최대 고점을 노리다 보면, 고점이 안잡힌다. 어떻게 할 건가
> 
>NONE_CROP_SIZE 는 성능이 더 않좋다.
> 
>* ##### <u>고점이 안잡히는 경우 보정</u>
> 
>#### 손절모드 : 최저 고점을 노린다.
> 
>> crop_size_sudden_death=100
> >
> > limit_line_sudden_death=0.45



### * Data Tune

---

데이터를 좀더 이쁘게 잘라준다

check_span을 줄여보기

### * Model Tune

---

#### Best Parameter.

| Best Model : softmax / categorical_crossentropy / batch_size=128 / rotation=60 / h_flip=True / width_shift=0.6 / height_shift=0.6 / fill_mode='nearest / filter_amt=100 / dense_relu / kernel_size=3,1 / |      |
| ------------------------------------------------------------ | ---- |
| 베이지언 하이퍼 파라미터 최적화 검색해보기 (automl 관련해서) |      |
* #### Model Ensemble

  * https://towardsdatascience.com/how-i-used-transfer-learning-and-ensemble-learning-to-get-90-accuracy-in-kaggle-competition-5a5e4c7e63e
  * not_trainable : [https://inspiringpeople.github.io/data%20analysis/Ensemble_Stacking/](https://inspiringpeople.github.io/data analysis/Ensemble_Stacking/)
  
* #### ParamSearchCV

  Link : https://machinelearningmastery.com/grid-search-hyperparameters-deep-learning-models-python-keras/

  optimizer

  epoch 늘리기 (크게 의미가 없을거 같다, 100 안에서 꿑나고 있으니까)

  batch size 
  
  

### 거래 코드

#### 1. 진입 코인 선정

#### 2. 매수 시점 = 저가

#### 3. 매수가 = 이전 종가

#### 4. 매도 시점 = 고가

#### 5. 매도가 = 55초 시장가 매도 (매도법 생각해보기)

#### 6. 이탈에 대한 보정 작업 : 손절 모드



## Modi.

* ##### 매수가 / 매도가 선정 코드

  * 종가를 기준으로 예측하는 것이니, 55초 이후의 현재가격으로 매수 / 매도하면 될까
  * 저가는 그렇게 차이가 나지는 않네

* ### 저점 예측에 대한 새로운 로직 찾기 (급상승을 예측하는)

  * 5분봉 ..?
  * 저점 예측후에 예측된 데이터까지의 데이터를 모어서 급상승을 예측한다.

