#### ACC_Params

* **데이터 전처리가 제일 중요하다**
  
  * 들어가는 열 수 (low, high >> cmo)
  
  * ohlcv.shape  일치시키기
  
  * 이전 이후 데이터 보다 작은 피크만 찾는다.
  
  * > 잡음을 일으키는 데이터를 제거해주는 것이 중요
* 데이터 편향, 가중치 적용
* Augmentation
* layers
* 데이터 후처리
  
  * y_pred : np.argmax >> percentage
  * slice_ohlcv 의 길이가 input_data_length 보다 작은 경우 출력 결과값의 오차가 커진다.

| Model No. | Description                                                  |
| --------- | ------------------------------------------------------------ |
| 54        | y data 전전 데이터                                           |
| 54_1      | y data 전 데이터                                             |
| 54_2      | 54_1 버전 60만개 데이터 >> 예측 결과값이 동일한 문제점이 있다. |
| 54_3      | 54_1 버전 고저점을 뒷 데이터만으로 만든 경우                 |



## Result : Variable Params

| Best Model : softmax / categorical_crossentropy / batch_size=128 / rotation=60 / h_flip=True / width_shift=0.6 / height_shift=0.6 / fill_mode='nearest / filter_amt=100 / dense_relu / kernel_size=3,1 / |                                        |
| ------------------------------------------------------------ | -------------------------------------- |
| Low                                                          | High                                   |
| 0.02767  LSTM, SIGMOID                                       | 0.02877     기존에 사용하던 BEST MODEL |
| 0.02725   Best Model / 2 layer                               |                                        |
| 0.02715   filter_amt=100, 2 layers                           | 0.02792   Same with Low version        |
| 0.02633  input_data_length=40                                | 0.02715                                |

check_span 을 줄여보기 / data 의 양을 늘려보기 >> 정확도가 좋다고 수익률이 무조건적으로 좋은건 아니다.

vertical_flip=True 해보기

opt 변경해보기

epoch 올려서 비교해보기

batch size 조절해보기

모델 이어서 학습하기

RNN 으로 해보기

LSTM 적용해보기 : https://www.kaggle.com/ist597/simple-keras-lstm-classifier-98-74

https://www.kaggle.com/afajohn/cnn-lstm-for-signal-classification-lb-0-513/notebook



### 거래 코드

#### 1. 매수 시점 = 저가

#### 2. 매수가 = 오픈가

* 실제 코드 = 오픈가

#### 3. 매도 시점 =고가

#### 4. 매도가 = 오픈가 ?

* high 의 80 % 로 매도했다고 가정 
* 실제 코드 = ex. 오픈가 찍고 얼마안돼서 시장가 매도

#### 5. 이탈에 대한 보정 작업

* 매수 신호만 있고 매도 신호가 없는 경우는 ..?

  > 항목을 나열해주고 총 갯수 산출
  >
  > 

## Modi.

* 최적의 모델을 만드는 방법 = 어떤 데이터를 넣느냐가 중요 >> 데이터 전처리

  * 저점과 고점 데이터 만드는 방법 다시 생각해보기
    * 고점 같은 경우 뒷 데이터만 사용해도 될 거같은데 ?
  * 제공하는 데이터 비중을 맞추어준다 ?

* 고점에 팔아야 가장 큰 이익을 가져올텐데 고점이 형성되지 않는 경우에 대해서 생각해보기
  
  * figure_data 에서는 잡는데, figure_fluc 에서는 잡지 못하는 점 >> ACC 를 올린다.
  
    #### high 가 중요함 (매도 시점을 정확하게 파악해야한다)
  
* 해당 코인이 아직 남아있는 경우, 잔여금 처리방법

  